<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Drag and Drop</title>
  <link rel="stylesheet" href="dragdrop.css">
  <script>
    var drop;
    function initiate(){
	  var images=document.querySelectorAll('#picturesbox > img');
	  for(var i=0; i<images.length; i++){
	    images[i].addEventListener('dragstart', dragged, false);	  
	  }
	  drop=document.getElementById('dropbox');
	  drop.addEventListener('dragover', function(e){ e.preventDefault(); }, false);
	  drop.addEventListener('drop', dropped, false);
	}
	function dragged(e){
	  var elem=e.target; // this 동일 : 이벤트가 발생된 대상 DOM 객체
	  // elem=e.target;
	  // 자바 스크립트는 앞에 var을 선언 하지 않으면 자동으로 전역 변수가 된다.
	  e.dataTransfer.setData('Text', elem.getAttribute('id'));
	  // transfer에다 text라는 이름으로 id를 저장했다.
	}
	function dropped(e){
	  var e.preventDefault();
	  var id=e.dataTransfer.getData('Text');
	  if(id!="image4"){
	    var src=document.getElementById(id).src;
	    drop.innerHTML+='<img src="'+src+'">';
		//  drop.innerHTML=id + '가 드롭되었어요...';
	  } else{
	    //drop.innerHTML='not admitted';
	    alert("황소는 드롭 불가");
	  } 
	}
	window.addEventListener('load', initiate, false);
  </script>
</head>
<body>
  <section id="dropbox">
    Drag and drop images here
  </section>
  <section id="picturesbox">
    <img id="image1" src="monster1.gif">
    <img id="image2" src="monster2.gif">
    <img id="image3" src="monster3.gif">
    <img id="image4" src="monster4.gif">
  </section>
</body>
</html>






